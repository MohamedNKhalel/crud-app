"use strict";(self.webpackChunkuser=self.webpackChunkuser||[]).push([[972],{7972:(M,h,e)=>{e.r(h),e.d(h,{HomeComponent:()=>f});var g=e(6814),u=e(6472),_=e(32),p=e(9862),d=e(5907),m=e(8437),P=e(5717),t=e(8926),O=e(8763),r=e(9515);const l=function(a){return["/details",a]};function s(a,T){if(1&a){const n=t.EpF();t.TgZ(0,"div",4)(1,"div",5)(2,"div",6),t._UZ(3,"img",7),t.TgZ(4,"h1",8),t._uU(5),t.qZA()(),t.TgZ(6,"div",9)(7,"p")(8,"span",10),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.TgZ(11,"span",11),t._uU(12),t.qZA()(),t.TgZ(13,"p")(14,"span",10),t._uU(15),t.ALo(16,"translate"),t.qZA(),t._uU(17),t.qZA()(),t.TgZ(18,"div",12)(19,"button",13),t._uU(20),t.ALo(21,"translate"),t.qZA(),t.TgZ(22,"button",14),t.NdJ("click",function(){const C=t.CHM(n).$implicit,v=t.oxw();return t.KtG(v.completeTask(C._id))}),t._uU(23),t.ALo(24,"translate"),t.qZA()()()()}if(2&a){const n=T.$implicit,o=t.oxw();t.xp6(3),t.Q6J("src",o.imageUrl+n.image,t.LSH),t.xp6(2),t.Oqu(n.title),t.xp6(4),t.hij("",t.lcZ(10,9,"card.deadline")," : "),t.xp6(3),t.Oqu(n.deadline),t.xp6(3),t.hij("",t.lcZ(16,11,"card.description")," : "),t.xp6(2),t.hij(" ",n.description,""),t.xp6(2),t.Q6J("routerLink",t.VKq(17,l,n._id)),t.xp6(1),t.Oqu(t.lcZ(21,13,"card.details")),t.xp6(3),t.Oqu(t.lcZ(24,15,"card.complete"))}}const i=function(a,T,n){return{id:"tasks",itemsPerPage:a,currentPage:T,totalItems:n}};let f=(()=>{class a{constructor(n,o,c,C){this._AuthService=n,this._TasksService=o,this._ToastrService=c,this._TranslateService=C,this.userTasks=[],this.items=[],this.pageSize=0,this.currentPage=1,this.total=0,this.imageUrl="https://crud-8xac.onrender.com/",this.userName=this._AuthService.userData.getValue()}ngOnInit(){this._AuthService.getUserData(),this.getUserTasks()}getUserTasks(){let n={page:this.currentPage,limit:this.pageSize,status:"In-Progress"};this._TasksService.getUserTasks(this._AuthService.userData.getValue().userId,n).subscribe({next:o=>{console.log(o),this.userTasks=o.tasks,console.log(this.userTasks),this.total=o.totalItems,this.pageSize=6},error:o=>{console.log(o),(o.error.message="No Tasks Found Assgined To This ID...")&&(this.userTasks=[])}})}pageChanged(n){this.currentPage=n,console.log(this.currentPage),this.getUserTasks()}completeTask(n){this._TasksService.completeTask({id:n}).subscribe({next:c=>{console.log(c),this._ToastrService.success(this._TranslateService.instant("toastr.complete"),this._TranslateService.instant("toastr.done")),this.getUserTasks()},error:c=>{console.log(c)}})}static#t=this.\u0275fac=function(o){return new(o||a)(t.Y36(_.e),t.Y36(d.C),t.Y36(O._W),t.Y36(r.sK))};static#e=this.\u0275cmp=t.Xpm({type:a,selectors:[["app-home"]],standalone:!0,features:[t._Bn([_.e,d.C]),t.jDz],decls:6,vars:12,consts:[[1,"row"],["class","col-md-3",4,"ngFor","ngForOf"],[1,"py-2"],["id","tasks","previousLabel","Previous","nextLabel","Next","screenReaderPaginationLabel","Pagination","screenReaderPageLabel","page","screenReaderCurrentLabel","You're on page",1,"text-center",3,"maxSize","directionLinks","autoHide","responsive","pageChange","pageBoundsCorrection"],[1,"col-md-3"],[1,"my-card"],[1,"head"],["height","300px","alt","",1,"w-100","rounded-2","mb-3",3,"src"],[1,"text-center"],[1,"body"],[1,"fw-bolder"],[1,"text-muted"],[1,"footer","d-flex","justify-content-between","mx-5"],[1,"bg-1",3,"routerLink"],[1,"bg-2",3,"click"]],template:function(o,c){1&o&&(t.TgZ(0,"section")(1,"div",0),t.YNc(2,s,25,19,"div",1),t.ALo(3,"paginate"),t.qZA(),t.TgZ(4,"div",2)(5,"pagination-controls",3),t.NdJ("pageChange",function(v){return c.pageChanged(v)})("pageBoundsCorrection",function(v){return c.pageChanged(v)}),t.qZA()()()),2&o&&(t.xp6(2),t.Q6J("ngForOf",t.xi3(3,5,c.userTasks,t.kEZ(8,i,c.pageSize,c.currentPage,c.total))),t.xp6(3),t.Q6J("maxSize",9)("directionLinks",!0)("autoHide",!0)("responsive",!0))},dependencies:[m.rH,g.ez,g.sg,u.JX,u._s,u.LS,p.JF,P.m,r.X$],styles:[".my-card[_ngcontent-%COMP%]{background-color:#fff;margin-block:10px;padding:15px;border-radius:7px;transition:all .5s;box-shadow:0 0 11px -5px #00000080}.my-card[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.my-card[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:var(--main-color);text-transform:capitalize}.my-card[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .bg-1[_ngcontent-%COMP%], .my-card[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .bg-2[_ngcontent-%COMP%]{padding:10px;border:unset;border-radius:7px;width:45%}.my-card[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .bg-1[_ngcontent-%COMP%]{box-shadow:0 0 0 2px #0006;color:#000;transition:all .4s ease}.my-card[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .bg-1[_ngcontent-%COMP%]:hover{color:#fff;background-color:gray}.my-card[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .bg-2[_ngcontent-%COMP%]{background-color:green;color:#fff;transition:all .4s ease}.my-card[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .bg-2[_ngcontent-%COMP%]:hover{background-color:#043604}"]})}return a})()},5717:(M,h,e)=>{e.d(h,{m:()=>p});var g=e(6814),u=e(9515),_=e(8926);let p=(()=>{class d{static#t=this.\u0275fac=function(t){return new(t||d)};static#e=this.\u0275mod=_.oAB({type:d});static#n=this.\u0275inj=_.cJS({imports:[g.ez,u.aw.forChild({extend:!0}),u.aw]})}return d})()},32:(M,h,e)=>{e.d(h,{e:()=>O});class g extends Error{}g.prototype.name="InvalidTokenError";var d=e(5619),m=e(8926),P=e(9862),t=e(8437);let O=(()=>{class r{constructor(s,i){this._HttpClient=s,this._Router=i,this.userData=new d.X(null),this.baseUrl="https://crud-8xac.onrender.com"}loginApi(s){return this._HttpClient.post(`${this.baseUrl}/auth/login`,s)}registerApi(s){return this._HttpClient.post(`${this.baseUrl}/auth/createAccount`,s)}logout(){localStorage.removeItem("userToken"),localStorage.removeItem("language"),this._Router.navigate(["/login"])}getUserData(){this.userData.next(localStorage.getItem("userToken")),this.userData.next(function p(r,l){if("string"!=typeof r)throw new g("Invalid token specified: must be a string");l||(l={});const s=!0===l.header?0:1,i=r.split(".")[s];if("string"!=typeof i)throw new g(`Invalid token specified: missing part #${s+1}`);let f;try{f=function _(r){let l=r.replace(/-/g,"+").replace(/_/g,"/");switch(l.length%4){case 0:break;case 2:l+="==";break;case 3:l+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return function u(r){return decodeURIComponent(atob(r).replace(/(.)/g,(l,s)=>{let i=s.charCodeAt(0).toString(16).toUpperCase();return i.length<2&&(i="0"+i),"%"+i}))}(l)}catch{return atob(l)}}(i)}catch(a){throw new g(`Invalid token specified: invalid base64 for part #${s+1} (${a.message})`)}try{return JSON.parse(f)}catch(a){throw new g(`Invalid token specified: invalid json for part #${s+1} (${a.message})`)}}(this.userData.getValue())),console.log(this.userData.getValue())}static#t=this.\u0275fac=function(i){return new(i||r)(m.LFG(P.eN),m.LFG(t.F0))};static#e=this.\u0275prov=m.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})()}}]);