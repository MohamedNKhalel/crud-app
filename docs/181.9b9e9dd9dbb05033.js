"use strict";(self.webpackChunkuser=self.webpackChunkuser||[]).push([[181],{3181:(D,p,i)=>{i.r(p),i.d(p,{LoginComponent:()=>U});var c=i(6814),a=i(6223),d=i(2032),m=i(9116),f=i(32),T=i(9862),h=i(8763),Z=i(5717),e=i(8926),A=i(8437),v=i(9515);function x(t,r){1&t&&(e.TgZ(0,"p",15),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"login.validation.email.valid")))}function C(t,r){1&t&&(e.TgZ(0,"p",15),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"login.validation.email.required")))}function E(t,r){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,x,3,3,"p",14),e.YNc(2,C,3,3,"p",14),e.qZA()),2&t){const l=e.oxw();let o,n;e.xp6(1),e.Q6J("ngIf",null==(o=l.loginForm.get("email"))?null:o.getError("email")),e.xp6(1),e.Q6J("ngIf",null==(n=l.loginForm.get("email"))||null==n.errors?null:n.errors.required)}}function L(t,r){1&t&&(e.TgZ(0,"p",15),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"login.validation.password.required")))}function O(t,r){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,L,3,3,"p",14),e.qZA()),2&t){const l=e.oxw();let o;e.xp6(1),e.Q6J("ngIf",null==(o=l.loginForm.get("password"))||null==o.errors?null:o.errors.required)}}function I(t,r){1&t&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"login.function.sigin")))}function M(t,r){1&t&&e._UZ(0,"i",16)}function P(t,r){if(1&t&&(e.TgZ(0,"p",17),e._uU(1),e.qZA()),2&t){const l=e.oxw();e.xp6(1),e.Oqu(l.errMsg)}}let U=(()=>{class t{constructor(l,o,n,s,u){this._FormBuilder=l,this._AuthService=o,this._Router=n,this._ToastrService=s,this._TranslateService=u,this.emailPlaceholder=this._TranslateService.instant("login.placeholder.email"),this.passPlaceholder=this._TranslateService.instant("login.placeholder.password"),this.isClicked=!1,this.errMsg="",this.loginForm=this._FormBuilder.group({email:[null,[a.kI.required,a.kI.email]],password:[null,[a.kI.required]],role:["user"]})}navigate(){this._Router.navigate(["/register"])}loginFunction(){this.loginForm.valid&&!this.isClicked&&(this.isClicked=!0,this._AuthService.loginApi(this.loginForm.value).subscribe({next:l=>{console.log(l),this.isClicked=!1,localStorage.setItem("userToken",l.token),localStorage.setItem("language",this._TranslateService.currentLang),this._Router.navigate(["/home"]),this._ToastrService.success(this._TranslateService.instant("toastr.success"))},error:l=>{console.log(l),this.isClicked=!1,this.errMsg=l.error.message}}))}static#e=this.\u0275fac=function(o){return new(o||t)(e.Y36(a.qu),e.Y36(f.e),e.Y36(A.F0),e.Y36(h._W),e.Y36(v.sK))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-login"]],standalone:!0,features:[e._Bn([f.e,h._W]),e.jDz],decls:30,vars:18,consts:[[1,"row","align-items-center"],[1,"col-md-6"],["src","./assets/images/Sign in-pana.svg","alt","",1,"w-100"],[1,"example-form",3,"formGroup","ngSubmit"],["appearance","outline",1,"example-full-width"],["title","email","formControlName","email","type","email","matInput","",3,"placeholder"],["emailInput",""],[4,"ngIf"],["title","password","formControlName","password","type","email","matInput","",3,"placeholder"],["passInput",""],["type","submit",1,"bg-main","w-100",3,"disabled"],["class","fa fa-spin fa-spinner",4,"ngIf"],[1,"text-primary","mt-1","cursor-pointer","text-center",3,"click"],["class","alert alert-danger mt-1 text-center text-capitalize",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"alert","alert-danger"],[1,"fa","fa-spin","fa-spinner"],[1,"alert","alert-danger","mt-1","text-center","text-capitalize"]],template:function(o,n){if(1&o&&(e.TgZ(0,"section")(1,"div",0)(2,"div",1)(3,"div"),e._UZ(4,"img",2),e.qZA()(),e.TgZ(5,"div",1)(6,"div")(7,"form",3),e.NdJ("ngSubmit",function(){return n.loginFunction()}),e.TgZ(8,"mat-form-field",4)(9,"mat-label"),e._uU(10),e.ALo(11,"translate"),e.qZA(),e._UZ(12,"input",5,6),e.qZA(),e.YNc(14,E,3,2,"div",7),e.TgZ(15,"mat-form-field",4)(16,"mat-label"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e._UZ(19,"input",8,9),e.qZA(),e.YNc(21,O,2,1,"div",7),e.TgZ(22,"div")(23,"button",10),e.YNc(24,I,3,3,"span",7),e.YNc(25,M,1,0,"i",11),e.qZA(),e.TgZ(26,"p",12),e.NdJ("click",function(){return n.navigate()}),e._uU(27),e.ALo(28,"translate"),e.qZA()(),e.YNc(29,P,2,1,"p",13),e.qZA()()()()()),2&o){const s=e.MAs(13),u=e.MAs(20);let _,g;e.xp6(7),e.Q6J("formGroup",n.loginForm),e.xp6(3),e.Oqu(e.lcZ(11,12,"login.label.email")),e.xp6(2),e.Q6J("placeholder",n.emailPlaceholder),e.xp6(2),e.Q6J("ngIf",(null==(_=n.loginForm.get("email"))?null:_.errors)&&((null==(_=n.loginForm.get("email"))?null:_.touched)||s.value.length>0)),e.xp6(3),e.Oqu(e.lcZ(18,14,"login.label.password")),e.xp6(2),e.Q6J("placeholder",n.passPlaceholder),e.xp6(2),e.Q6J("ngIf",(null==(g=n.loginForm.get("password"))?null:g.errors)&&((null==(g=n.loginForm.get("password"))?null:g.touched)||u.value.length>0)),e.xp6(2),e.Q6J("disabled",n.loginForm.invalid),e.xp6(1),e.Q6J("ngIf",!n.isClicked),e.xp6(1),e.Q6J("ngIf",n.isClicked),e.xp6(2),e.Oqu(e.lcZ(28,16,"login.function.create")),e.xp6(2),e.Q6J("ngIf",n.errMsg)}},dependencies:[Z.m,v.X$,T.JF,c.ez,c.O5,a.u5,a._Y,a.Fj,a.JJ,a.JL,m.lN,m.KE,m.hX,d.c,d.Nt,a.UX,a.sg,a.u],styles:[".example-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%}.example-full-width[_ngcontent-%COMP%]{width:100%}"]})}return t})()}}]);